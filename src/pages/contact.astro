---
import BaseLayout from '@/layouts/BaseLayout.astro';
import Icon from '@/components/ui/Icon.astro';

const supportEmail = 'aboyahyadev@icloud.com';
const emailSubject = encodeURIComponent('[MyDinero] Support Request');
const emailBody = encodeURIComponent('Hi MyDinero Team,\n\n');
const mailtoLink = `mailto:${supportEmail}?subject=${emailSubject}&body=${emailBody}`;
---

<BaseLayout
  title="Contact & Support"
  description="Get help with MyDinero expense tracker, budget planner, and money manager app. Find answers to common questions about our spending tracker and bill tracker features."
>
  <div class="contact-page">
    <!-- Ambient Background -->
    <div class="page-bg">
      <div class="page-orb page-orb-1"></div>
      <div class="page-orb page-orb-2"></div>
      <div class="page-orb page-orb-3"></div>
      <div class="page-grid"></div>
    </div>

    <div class="container">
      <!-- Hero Section -->
      <header class="page-header scroll-animate">
        <div class="page-badge">
          <Icon name="mic" size={16} />
          <span>Support</span>
        </div>
        <h1 class="page-title">
          We're Here to<br />
          <span class="title-highlight">Help You</span>
        </h1>
        <p class="page-subtitle">
          Have a question, feature request, or found a bug? We'd love to hear from you.
        </p>
      </header>

      <!-- Contact CTA Card -->
      <section class="contact-section scroll-animate">
        <div class="contact-card">
          <div class="card-glass"></div>
          <div class="card-content">
            <div class="contact-icon">
              <Icon name="mic" size={32} />
            </div>
            <h2 class="contact-title">Get in Touch</h2>
            <p class="contact-description">
              Whether it's a question about the app, a feature suggestion, or a bug report —
              we read every message and typically respond within 24 hours.
            </p>
            <a href={mailtoLink} class="contact-button">
              <span>Send us an Email</span>
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M5 12h14M12 5l7 7-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </a>
            <p class="contact-hint">
              We'll get back to you as soon as possible
            </p>
          </div>
        </div>
      </section>

      <!-- FAQ Section -->
      <section id="faq" class="faq-section">
        <header class="faq-header scroll-animate">
          <span class="section-eyebrow">FAQ</span>
          <h2 class="section-title">Frequently Asked Questions</h2>
          <p class="section-subtitle">
            Find quick answers about our expense tracker, budget planner, and money management features.
          </p>
        </header>

        <div class="faq-list">
          <details class="faq-item scroll-animate">
            <summary class="faq-question">
              <span>What makes MyDinero different from other budget apps?</span>
              <span class="faq-icon"></span>
            </summary>
            <div class="faq-answer">
              <p>
                MyDinero is a <strong>manual expense tracker</strong> designed for people who want full control over their financial data. Unlike other money manager apps that require bank connections, MyDinero lets you track spending privately — your data stays on your device and syncs only to your personal iCloud.
              </p>
              <p>
                Research shows that manually entering expenses in a spending tracker increases financial awareness and helps build better money habits. Our budget planner features, recurring transactions, and subcategories make it powerful yet simple.
              </p>
            </div>
          </details>

          <details class="faq-item scroll-animate">
            <summary class="faq-question">
              <span>How do I track my monthly bills and subscriptions?</span>
              <span class="faq-icon"></span>
            </summary>
            <div class="faq-answer">
              <p>
                MyDinero includes a powerful <strong>bill tracker</strong> feature called Recurring Transactions. Set up your Netflix, rent, gym membership, or any regular expense once — the expense manager automatically adds them to your budget each month.
              </p>
              <p>
                You can skip or modify individual instances without affecting the recurring rule. This makes MyDinero the perfect budget tracker for managing subscriptions and fixed expenses.
              </p>
            </div>
          </details>

          <details class="faq-item scroll-animate">
            <summary class="faq-question">
              <span>Can I set spending limits for different categories?</span>
              <span class="faq-icon"></span>
            </summary>
            <div class="faq-answer">
              <p>
                Yes! Our <strong>budget planner</strong> lets you set monthly spending limits for any category. The budget tracker shows visual progress bars so you always know where you stand. You'll get alerts at 80% and 100% of your budget — no surprises at month end.
              </p>
              <p>
                Whether you're tracking groceries, entertainment, or transportation, MyDinero helps you stay on top of your spending with our intuitive budget app interface.
              </p>
            </div>
          </details>

          <details class="faq-item scroll-animate">
            <summary class="faq-question">
              <span>Why doesn't the app connect to my bank account?</span>
              <span class="faq-icon"></span>
            </summary>
            <div class="faq-answer">
              <p>
                By design. We built this <strong>money tracker</strong> for people who prefer privacy and mindful spending. Manual entry in an expense tracker increases financial awareness — you become more conscious of every purchase.
              </p>
              <p>
                Plus, no bank connection means no risk of credentials being compromised. Your financial data in this money manager stays completely private, syncing only to your personal iCloud account.
              </p>
            </div>
          </details>

          <details class="faq-item scroll-animate">
            <summary class="faq-question">
              <span>Is my data backed up and synced across devices?</span>
              <span class="faq-icon"></span>
            </summary>
            <div class="faq-answer">
              <p>
                Yes! If you have iCloud enabled, this <strong>expense manager</strong> automatically syncs your data across all your Apple devices. Your transactions, budgets, and categories in the spending tracker are always backed up.
              </p>
              <p>
                To ensure sync is enabled: Settings → [Your Name] → iCloud → make sure MyDinero is turned on. You can also export your data as CSV anytime from the budget app.
              </p>
            </div>
          </details>

          <details class="faq-item scroll-animate">
            <summary class="faq-question">
              <span>How do I cancel my subscription?</span>
              <span class="faq-icon"></span>
            </summary>
            <div class="faq-answer">
              <p>
                Subscriptions for this budget tracker are managed through Apple:
              </p>
              <ol>
                <li>Open the Settings app on your iPhone</li>
                <li>Tap your name at the top</li>
                <li>Tap "Subscriptions"</li>
                <li>Find MyDinero and tap it</li>
                <li>Tap "Cancel Subscription"</li>
              </ol>
              <p>
                You'll continue to have access to all money manager features until the end of your current billing period.
              </p>
            </div>
          </details>

          <details class="faq-item scroll-animate">
            <summary class="faq-question">
              <span>Can I get a refund for my purchase?</span>
              <span class="faq-icon"></span>
            </summary>
            <div class="faq-answer">
              <p>
                Refunds for this expense tracker are handled by Apple directly. You can request a refund through Apple's "Report a Problem" page at
                <a href="https://reportaproblem.apple.com" target="_blank" rel="noopener noreferrer">reportaproblem.apple.com</a>.
              </p>
            </div>
          </details>

          <details class="faq-item scroll-animate">
            <summary class="faq-question">
              <span>Is there an Android version of this money tracker?</span>
              <span class="faq-icon"></span>
            </summary>
            <div class="faq-answer">
              <p>
                Not currently. MyDinero is built exclusively for iOS to provide the best possible <strong>budget app</strong> experience on iPhone and iPad. We've optimized every detail of this spending tracker for Apple's ecosystem.
              </p>
              <p>
                We may consider an Android version of this expense manager in the future based on demand — let us know if you'd like to see it!
              </p>
            </div>
          </details>
        </div>
      </section>

      <!-- Bottom CTA -->
      <section class="bottom-cta scroll-animate">
        <p class="cta-text">Still have questions?</p>
        <a href={mailtoLink} class="cta-link">
          <span>Contact our support team</span>
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M5 12h14M12 5l7 7-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </a>
      </section>
    </div>
  </div>
</BaseLayout>

<style>
  .contact-page {
    position: relative;
    min-height: 100vh;
    padding-top: calc(72px + var(--space-16));
    padding-bottom: var(--space-16);
  }

  /* Ambient Background */
  .page-bg {
    position: fixed;
    inset: 0;
    overflow: hidden;
    pointer-events: none;
    z-index: -1;
  }

  .page-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.4;
    animation: float-slow 20s ease-in-out infinite;
  }

  .page-orb-1 {
    width: 500px;
    height: 500px;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.08), transparent 70%);
    top: -10%;
    right: -10%;
    animation-delay: 0s;
  }

  .page-orb-2 {
    width: 400px;
    height: 400px;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.05), transparent 70%);
    bottom: 20%;
    left: -10%;
    animation-delay: -7s;
  }

  .page-orb-3 {
    width: 300px;
    height: 300px;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.04), transparent 70%);
    top: 50%;
    left: 50%;
    animation-delay: -14s;
  }

  @keyframes float-slow {
    0%, 100% { transform: translate(0, 0) scale(1); }
    33% { transform: translate(30px, -30px) scale(1.05); }
    66% { transform: translate(-20px, 20px) scale(0.95); }
  }

  .page-grid {
    position: absolute;
    inset: 0;
    background-image:
      linear-gradient(rgba(255, 255, 255, 0.02) 1px, transparent 1px),
      linear-gradient(90deg, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
    background-size: 60px 60px;
    mask-image: radial-gradient(ellipse at center, black 30%, transparent 70%);
    -webkit-mask-image: radial-gradient(ellipse at center, black 30%, transparent 70%);
  }

  /* Page Header */
  .page-header {
    text-align: center;
    margin-bottom: var(--space-12);
  }

  .page-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-2) var(--space-4);
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.03) 100%);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-full);
    margin-bottom: var(--space-6);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    font-size: var(--font-size-sm);
    font-weight: 500;
    color: var(--color-white-70);
  }

  .page-title {
    font-size: clamp(2.5rem, 5vw, 3.5rem);
    font-weight: 700;
    line-height: 1.1;
    letter-spacing: -0.03em;
    margin-bottom: var(--space-5);
  }

  .title-highlight {
    position: relative;
    display: inline-block;
  }

  .title-highlight::after {
    content: '';
    position: absolute;
    bottom: 0.1em;
    left: 0;
    right: 0;
    height: 0.12em;
    background: linear-gradient(90deg, rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.1));
    border-radius: var(--radius-full);
  }

  .page-subtitle {
    font-size: var(--font-size-lg);
    color: var(--color-white-60);
    line-height: 1.7;
    max-width: 480px;
    margin-inline: auto;
  }

  /* Contact Section */
  .contact-section {
    max-width: 560px;
    margin-inline: auto;
    margin-bottom: var(--space-20);
  }

  .contact-card {
    position: relative;
    border-radius: var(--radius-2xl);
    overflow: hidden;
    text-align: center;
  }

  .card-glass {
    position: absolute;
    inset: 0;
    background: linear-gradient(
      145deg,
      rgba(255, 255, 255, 0.07) 0%,
      rgba(255, 255, 255, 0.02) 50%,
      rgba(255, 255, 255, 0.05) 100%
    );
    backdrop-filter: blur(24px);
    -webkit-backdrop-filter: blur(24px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-2xl);
  }

  .card-content {
    position: relative;
    z-index: 1;
    padding: var(--space-10);
  }

  .contact-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 72px;
    height: 72px;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-xl);
    color: var(--color-white);
    margin-bottom: var(--space-6);
  }

  .contact-title {
    font-size: var(--font-size-2xl);
    font-weight: 700;
    margin-bottom: var(--space-3);
  }

  .contact-description {
    font-size: var(--font-size-base);
    color: var(--color-white-60);
    line-height: 1.7;
    margin-bottom: var(--space-8);
    max-width: 400px;
    margin-inline: auto;
  }

  .contact-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    height: 56px;
    padding-inline: var(--space-10);
    background: var(--color-white);
    color: var(--color-black);
    font-weight: 600;
    font-size: var(--font-size-base);
    border-radius: var(--radius-lg);
    transition: all var(--transition-fast);
    box-shadow: 0 0 0 0 rgba(255, 255, 255, 0);
  }

  .contact-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 0 30px rgba(255, 255, 255, 0.2);
  }

  .contact-button:active {
    transform: translateY(0);
  }

  .contact-button svg {
    transition: transform var(--transition-fast);
  }

  .contact-button:hover svg {
    transform: translateX(4px);
  }

  .contact-hint {
    margin-top: var(--space-4);
    font-size: var(--font-size-sm);
    color: var(--color-white-40);
  }

  /* FAQ Section */
  .faq-section {
    max-width: 720px;
    margin-inline: auto;
  }

  .faq-header {
    text-align: center;
    margin-bottom: var(--space-10);
  }

  .section-eyebrow {
    display: inline-block;
    font-size: var(--font-size-sm);
    font-weight: 500;
    color: var(--color-white-50);
    text-transform: uppercase;
    letter-spacing: 0.15em;
    margin-bottom: var(--space-4);
  }

  .section-title {
    font-size: var(--font-size-3xl);
    font-weight: 700;
    margin-bottom: var(--space-4);
  }

  .section-subtitle {
    font-size: var(--font-size-base);
    color: var(--color-white-50);
    max-width: 480px;
    margin-inline: auto;
  }

  .faq-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
  }

  .faq-item {
    position: relative;
    border-radius: var(--radius-xl);
    overflow: hidden;
    background: linear-gradient(
      145deg,
      rgba(255, 255, 255, 0.04) 0%,
      rgba(255, 255, 255, 0.01) 100%
    );
    border: 1px solid rgba(255, 255, 255, 0.06);
    transition: all var(--transition-fast);
  }

  .faq-item:hover {
    border-color: rgba(255, 255, 255, 0.1);
    background: linear-gradient(
      145deg,
      rgba(255, 255, 255, 0.06) 0%,
      rgba(255, 255, 255, 0.02) 100%
    );
  }

  .faq-item[open] {
    border-color: rgba(255, 255, 255, 0.12);
  }

  .faq-question {
    padding: var(--space-5) var(--space-6);
    font-weight: 600;
    font-size: var(--font-size-base);
    cursor: pointer;
    list-style: none;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-4);
    color: var(--color-white);
  }

  .faq-question::-webkit-details-marker {
    display: none;
  }

  .faq-icon {
    flex-shrink: 0;
    width: 24px;
    height: 24px;
    position: relative;
  }

  .faq-icon::before,
  .faq-icon::after {
    content: '';
    position: absolute;
    background: var(--color-white-50);
    border-radius: 1px;
    transition: transform var(--transition-fast);
  }

  .faq-icon::before {
    width: 12px;
    height: 2px;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }

  .faq-icon::after {
    width: 2px;
    height: 12px;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }

  .faq-item[open] .faq-icon::after {
    transform: translate(-50%, -50%) rotate(90deg);
  }

  .faq-answer {
    padding: 0 var(--space-6) var(--space-5);
  }

  .faq-answer p {
    margin-bottom: var(--space-3);
    color: var(--color-white-60);
    line-height: 1.7;
    font-size: var(--font-size-sm);
  }

  .faq-answer p:last-child {
    margin-bottom: 0;
  }

  .faq-answer strong {
    color: var(--color-white-70);
    font-weight: 500;
  }

  .faq-answer ol {
    padding-left: var(--space-6);
    margin-bottom: var(--space-3);
  }

  .faq-answer li {
    color: var(--color-white-60);
    margin-bottom: var(--space-2);
    font-size: var(--font-size-sm);
  }

  .faq-answer a {
    color: var(--color-white);
    text-decoration: underline;
    text-underline-offset: 2px;
  }

  .faq-answer a:hover {
    color: var(--color-white-70);
  }

  /* Bottom CTA */
  .bottom-cta {
    text-align: center;
    margin-top: var(--space-16);
    padding-top: var(--space-10);
    border-top: 1px solid rgba(255, 255, 255, 0.06);
  }

  .cta-text {
    font-size: var(--font-size-base);
    color: var(--color-white-50);
    margin-bottom: var(--space-3);
  }

  .cta-link {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    color: var(--color-white);
    font-weight: 500;
    transition: all var(--transition-fast);
  }

  .cta-link:hover {
    color: var(--color-white-70);
  }

  .cta-link svg {
    transition: transform var(--transition-fast);
  }

  .cta-link:hover svg {
    transform: translateX(4px);
  }

  /* Responsive */
  @media (max-width: 768px) {
    .card-content {
      padding: var(--space-8);
    }

    .contact-icon {
      width: 60px;
      height: 60px;
    }

    .faq-question {
      padding: var(--space-4) var(--space-5);
      font-size: var(--font-size-sm);
    }

    .faq-answer {
      padding: 0 var(--space-5) var(--space-4);
    }
  }

  @media (max-width: 480px) {
    .card-content {
      padding: var(--space-6);
    }

    .contact-button {
      width: 100%;
      height: 52px;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .page-orb,
    .contact-button,
    .contact-button svg,
    .faq-item,
    .faq-icon::before,
    .faq-icon::after,
    .cta-link,
    .cta-link svg {
      animation: none;
      transition: none;
    }

    .contact-button:hover,
    .cta-link:hover svg {
      transform: none;
    }
  }
</style>
